import{_ as a,l as u,r as d,o as f,c as h,a as l,w as p,b as m,m as _,n as k,d as g}from"./vendor.a71dc5d6.js";const v=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}};v();var y=(t,n)=>{const r=t.__vccOpts||t;for(const[c,e]of n)r[c]=e;return r};const C={components:{ColorPicker:a},data(){return{color:null,socket:null,newColor:{hue:50,saturation:100,luminosity:50,alpha:1}}},created:function(){console.log("Starting connection to WebSocket Server"),this.socket=u("http://192.168.1.121",{transports:["websocket"],upgrade:!1,reconnectionAttempts:5}),this.socket.on("connect",()=>{console.log(`socket connected: ${this.socket.connected}`)}),this.socket.on("disconnect",()=>{console.log(`socket connected: ${this.socket.connected}`)}),this.socket.on("set_color",t=>{console.log("recieved color",t),this.color=t}),this.socket.on("get_effects",t=>{console.log("recieved effects",t)})},computed:{hex(){return this.hslToHex(this.newColor.hue,this.newColor.saturation,this.newColor.luminosity)}},methods:{changeColor(t){this.newColor.hue=t,console.log(`changeColor hue: ${t} hex: ${this.hex}`),this.socket.emit("set_effect",{name:"solid",options:{color:this.hex}})},setEffect(t){this.socket.emit("set_effect",{name:t,options:{color:this.color}})},hslToHex(t,n,r){r/=100;const c=n*Math.min(r,1-r)/100,e=o=>{const s=(o+t/30)%12,i=r-c*Math.max(Math.min(s-3,9-s,1),-1);return Math.round(255*i).toString(16).padStart(2,"0")};return`#${e(0)}${e(8)}${e(4)}`}}},w={class:"hu-color-picker"};function x(t,n,r,c,e,o){const s=d("ColorPicker");return f(),h("div",{class:"color-container",style:k({background:o.hex})},[l("a",{onClick:n[0]||(n[0]=p(i=>o.setEffect("rainbow"),["prevent"]))},"Rainbow"),l("div",w,[m(s,_({class:"",variant:"persistent"},e.newColor,{onInput:o.changeColor}),null,16,["onInput"])])],4)}var b=y(C,[["render",x]]);g(b).mount("#app");
