import{o as l,c as a,r as p,F as m,w as u,t as _,_ as k,l as g,a as d,b as f,d as h,m as v,n as y,e as C}from"./vendor.638b26dc.js";const w=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}};w();const x=["onClick"],b={props:{effects:Array},emits:["set-effect"],setup(o,{emit:n}){const s=r=>{n("set-effect",r)};return(r,e)=>(l(!0),a(m,null,p(o.effects,t=>(l(),a("button",{key:t.name,onClick:u(c=>s(t.name),["prevent"])},_(t.title),9,x))),128))}};var E=(o,n)=>{const s=o.__vccOpts||o;for(const[r,e]of n)s[r]=e;return s};const S={components:{ColorPicker:k,Effects:b},data(){return{color:null,socket:null,newColor:{hue:50,saturation:100,luminosity:50,alpha:1},effects:[]}},created:function(){console.log("Starting connection to WebSocket Server"),this.socket=g("http://192.168.1.121",{transports:["websocket"],upgrade:!1,reconnectionAttempts:5}),this.socket.on("connect",()=>{console.log(`socket connected: ${this.socket.connected}`)}),this.socket.on("disconnect",()=>{console.log(`socket connected: ${this.socket.connected}`)}),this.socket.on("set_color",o=>{console.log("recieved color",o),this.color=o}),this.socket.on("get_effects",o=>{this.effects=o,console.log("recieved effects",o)})},computed:{hex(){return this.hslToHex(this.newColor.hue,this.newColor.saturation,this.newColor.luminosity)}},methods:{changeColor(o){this.newColor.hue=o,console.log(`changeColor hue: ${o} hex: ${this.hex}`),this.socket.emit("set_effect",{name:"solid",options:{color:this.hex}})},setEffect(o){console.log("set-effect",o),this.socket.emit("set_effect",{name:o,options:{color:this.color}})},hslToHex(o,n,s){s/=100;const r=n*Math.min(s,1-s)/100,e=t=>{const c=(t+o/30)%12,i=s-r*Math.max(Math.min(c-3,9-c,1),-1);return Math.round(255*i).toString(16).padStart(2,"0")};return`#${e(0)}${e(8)}${e(4)}`}}},$={class:"container"},P={class:"hu-color-picker"};function A(o,n,s,r,e,t){const c=d("ColorPicker"),i=d("Effects");return l(),a("div",{class:"color-container",style:y({background:t.hex})},[f("div",$,[f("a",{onClick:n[0]||(n[0]=u(M=>t.setEffect("rainbow"),["prevent"]))},"Rainbow"),f("div",P,[h(c,v({class:"",variant:"persistent"},e.newColor,{onInput:t.changeColor}),null,16,["onInput"])]),h(i,{effects:e.effects,onSetEffect:t.setEffect},null,8,["effects","onSetEffect"])])],4)}var L=E(S,[["render",A]]);C(L).mount("#app");
